<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendário Fórmula 1 2025 - Horários de Brasília</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 600px; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close:hover { color: #000; }
        .track-card { transition: transform 0.2s; }
        .track-card:hover { transform: scale(1.05); }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold text-center mb-6">Calendário Fórmula 1 2025 - Horários de Brasília</h1>
        <div id="trackGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
            <!-- Minimapas serão inseridos via JavaScript -->
        </div>
    </div>

    <!-- Modal para detalhes do GP -->
    <div id="gpModal" class="modal">
        <div class="modal-content">
            <span class="close">×</span>
            <h2 id="modalTitle" class="text-xl font-bold mb-4"></h2>
            <a id="modalMapLink" href="#" target="_blank" class="text-blue-500 underline mb-4 block">Ver mapa completo da pista</a>
            <button id="enableNotifications" class="mb-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Ativar Notificações para este GP
            </button>
            <table class="w-full border-collapse border border-gray-300">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="border border-gray-300 p-2">Sessão</th>
                        <th class="border border-gray-300 p-2">Data</th>
                        <th class="border border-gray-300 p-2">Horário (Brasília)</th>
                    </tr>
                </thead>
                <tbody id="modalSchedule" class="text-center"></tbody>
            </table>
        </div>
    </div>

    <script>
        // Dados do calendário Fórmula 1 2025 (horários em Brasília, -03:00)
        const f1Schedule = [
            {
                gp: "Austrália", circuit: "Albert Park", mapUrl: "https://www.racingcircuits.info/race-circuit/australia--albert-park",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-03-14T22:30:00-03:00", time: "22:30" },
                    { event: "Treino Livre 2", date: "2025-03-15T00:00:00-03:00", time: "00:00" },
                    { event: "Treino Livre 3", date: "2025-03-15T22:30:00-03:00", time: "22:30" },
                    { event: "Qualificação", date: "2025-03-15T03:00:00-03:00", time: "03:00" },
                    { event: "Corrida", date: "2025-03-16T02:00:00-03:00", time: "02:00" }
                ]
            },
            {
                gp: "China", circuit: "Shanghai International", mapUrl: "https://www.racingcircuits.info/race-circuit/china--shanghai-international-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-03-21T23:30:00-03:00", time: "23:30" },
                    { event: "Treino Livre 2", date: "2025-03-22T01:00:00-03:00", time: "01:00" },
                    { event: "Treino Livre 3", date: "2025-03-22T23:30:00-03:00", time: "23:30" },
                    { event: "Qualificação", date: "2025-03-22T04:00:00-03:00", time: "04:00" },
                    { event: "Corrida", date: "2025-03-23T03:00:00-03:00", time: "03:00" }
                ]
            },
            {
                gp: "Japão", circuit: "Suzuka", mapUrl: "https://www.racingcircuits.info/race-circuit/japan--suzuka",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-04-04T22:30:00-03:00", time: "22:30" },
                    { event: "Treino Livre 2", date: "2025-04-05T00:00:00-03:00", time: "00:00" },
                    { event: "Treino Livre 3", date: "2025-04-05T22:30:00-03:00", time: "22:30" },
                    { event: "Qualificação", date: "2025-04-05T03:00:00-03:00", time: "03:00" },
                    { event: "Corrida", date: "2025-04-06T02:00:00-03:00", time: "02:00" }
                ]
            },
            {
                gp: "Bahrein", circuit: "Sakhir", mapUrl: "https://www.racingcircuits.info/race-circuit/bahrain--bahrain-international-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-04-11T04:30:00-03:00", time: "04:30" },
                    { event: "Treino Livre 2", date: "2025-04-11T08:00:00-03:00", time: "08:00" },
                    { event: "Treino Livre 3", date: "2025-04-12T04:30:00-03:00", time: "04:30" },
                    { event: "Qualificação", date: "2025-04-12T09:00:00-03:00", time: "09:00" },
                    { event: "Corrida", date: "2025-04-13T08:00:00-03:00", time: "08:00" }
                ]
            },
            {
                gp: "Arábia Saudita", circuit: "Jeddah Corniche", mapUrl: "https://www.racingcircuits.info/race-circuit/saudi-arabia--jeddah-corniche-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-04-18T05:30:00-03:00", time: "05:30" },
                    { event: "Treino Livre 2", date: "2025-04-18T09:00:00-03:00", time: "09:00" },
                    { event: "Treino Livre 3", date: "2025-04-19T05:30:00-03:00", time: "05:30" },
                    { event: "Qualificação", date: "2025-04-19T10:00:00-03:00", time: "10:00" },
                    { event: "Corrida", date: "2025-04-20T09:00:00-03:00", time: "09:00" }
                ]
            },
            {
                gp: "Miami", circuit: "Miami International Autodrome", mapUrl: "https://www.racingcircuits.info/race-circuit/usa--miami-international-autodrome",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-05-02T13:30:00-03:00", time: "13:30" },
                    { event: "Treino Livre 2", date: "2025-05-02T17:00:00-03:00", time: "17:00" },
                    { event: "Treino Livre 3", date: "2025-05-03T13:30:00-03:00", time: "13:30" },
                    { event: "Qualificação", date: "2025-05-03T18:00:00-03:00", time: "18:00" },
                    { event: "Corrida", date: "2025-05-04T17:00:00-03:00", time: "17:00" }
                ]
            },
            {
                gp: "Emilia-Romagna", circuit: "Imola", mapUrl: "https://www.racingcircuits.info/race-circuit/italy--imola",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-05-16T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-05-16T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-05-17T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-05-17T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-05-18T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Mônaco", circuit: "Monte Carlo", mapUrl: "https://www.racingcircuits.info/race-circuit/monaco--circuit-de-monaco",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-05-23T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-05-23T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-05-24T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-05-24T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-05-25T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Espanha", circuit: "Circuit de Barcelona-Catalunya", mapUrl: "https://www.racingcircuits.info/race-circuit/spain--circuit-de-barcelona-catalunya",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-05-30T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-05-30T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-05-31T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-05-31T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-06-01T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Canadá", circuit: "Circuit Gilles Villeneuve", mapUrl: "https://www.racingcircuits.info/race-circuit/canada--circuit-gilles-villeneuve",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-06-06T11:30:00-03:00", time: "11:30" },
                    { event: "Treino Livre 2", date: "2025-06-06T15:00:00-03:00", time: "15:00" },
                    { event: "Treino Livre 3", date: "2025-06-07T11:30:00-03:00", time: "11:30" },
                    { event: "Qualificação", date: "2025-06-07T16:00:00-03:00", time: "16:00" },
                    { event: "Corrida", date: "2025-06-08T15:00:00-03:00", time: "15:00" }
                ]
            },
            {
                gp: "Áustria", circuit: "Red Bull Ring", mapUrl: "https://www.racingcircuits.info/race-circuit/austria--red-bull-ring",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-06-27T06:30:00-03:00", time: "06:30" },
                    { event: "Sprint Qualificação", date: "2025-06-27T11:00:00-03:00", time: "11:00" },
                    { event: "Sprint", date: "2025-06-28T07:00:00-03:00", time: "07:00" },
                    { event: "Qualificação", date: "2025-06-28T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-06-29T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Grã-Bretanha", circuit: "Silverstone", mapUrl: "https://www.racingcircuits.info/race-circuit/united-kingdom--silverstone",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-07-04T07:30:00-03:00", time: "07:30" },
                    { event: "Treino Livre 2", date: "2025-07-04T11:00:00-03:00", time: "11:00" },
                    { event: "Treino Livre 3", date: "2025-07-05T07:30:00-03:00", time: "07:30" },
                    { event: "Qualificação", date: "2025-07-05T12:00:00-03:00", time: "12:00" },
                    { event: "Corrida", date: "2025-07-06T11:00:00-03:00", time: "11:00" }
                ]
            },
            {
                gp: "Bélgica", circuit: "Spa-Francorchamps", mapUrl: "https://www.racingcircuits.info/race-circuit/belgium--spa-francorchamps",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-07-25T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-07-25T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-07-26T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-07-26T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-07-27T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Hungria", circuit: "Hungaroring", mapUrl: "https://www.racingcircuits.info/race-circuit/hungary--hungaroring",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-08-01T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-08-01T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-08-02T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-08-02T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-08-03T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Países Baixos", circuit: "Zandvoort", mapUrl: "https://www.racingcircuits.info/race-circuit/netherlands--zandvoort",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-08-15T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-08-15T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-08-16T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-08-16T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-08-17T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Itália", circuit: "Monza", mapUrl: "https://www.racingcircuits.info/race-circuit/italy--monza",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-08-29T06:30:00-03:00", time: "06:30" },
                    { event: "Treino Livre 2", date: "2025-08-29T10:00:00-03:00", time: "10:00" },
                    { event: "Treino Livre 3", date: "2025-08-30T06:30:00-03:00", time: "06:30" },
                    { event: "Qualificação", date: "2025-08-30T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-08-31T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Azerbaijão", circuit: "Baku City Circuit", mapUrl: "https://www.racingcircuits.info/race-circuit/azerbaijan--baku-city-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-09-12T04:00:00-03:00", time: "04:00" },
                    { event: "Treino Livre 2", date: "2025-09-12T08:00:00-03:00", time: "08:00" },
                    { event: "Treino Livre 3", date: "2025-09-13T04:00:00-03:00", time: "04:00" },
                    { event: "Qualificação", date: "2025-09-13T09:00:00-03:00", time: "09:00" },
                    { event: "Corrida", date: "2025-09-14T08:00:00-03:00", time: "08:00" }
                ]
            },
            {
                gp: "Singapura", circuit: "Marina Bay", mapUrl: "https://www.racingcircuits.info/race-circuit/singapore--marina-bay-street-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-09-19T05:30:00-03:00", time: "05:30" },
                    { event: "Treino Livre 2", date: "2025-09-19T09:00:00-03:00", time: "09:00" },
                    { event: "Treino Livre 3", date: "2025-09-20T05:30:00-03:00", time: "05:30" },
                    { event: "Qualificação", date: "2025-09-20T10:00:00-03:00", time: "10:00" },
                    { event: "Corrida", date: "2025-09-21T09:00:00-03:00", time: "09:00" }
                ]
            },
            {
                gp: "EUA", circuit: "Circuit of The Americas", mapUrl: "https://www.racingcircuits.info/race-circuit/usa--circuit-of-the-americas",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-10-17T11:30:00-03:00", time: "11:30" },
                    { event: "Sprint Qualificação", date: "2025-10-17T16:00:00-03:00", time: "16:00" },
                    { event: "Sprint", date: "2025-10-18T15:00:00-03:00", time: "15:00" },
                    { event: "Qualificação", date: "2025-10-18T19:00:00-03:00", time: "19:00" },
                    { event: "Corrida", date: "2025-10-19T15:00:00-03:00", time: "15:00" }
                ]
            },
            {
                gp: "México", circuit: "Autódromo Hermanos Rodríguez", mapUrl: "https://www.racingcircuits.info/race-circuit/mexico--autodromo-hermanos-rodriguez",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-10-24T12:30:00-03:00", time: "12:30" },
                    { event: "Treino Livre 2", date: "2025-10-24T16:00:00-03:00", time: "16:00" },
                    { event: "Treino Livre 3", date: "2025-10-25T12:30:00-03:00", time: "12:30" },
                    { event: "Qualificação", date: "2025-10-25T17:00:00-03:00", time: "17:00" },
                    { event: "Corrida", date: "2025-10-26T16:00:00-03:00", time: "16:00" }
                ]
            },
            {
                gp: "Brasil", circuit: "Interlagos", mapUrl: "https://www.racingcircuits.info/race-circuit/brazil--interlagos",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-11-07T11:30:00-03:00", time: "11:30" },
                    { event: "Treino Livre 2", date: "2025-11-07T15:00:00-03:00", time: "15:00" },
                    { event: "Treino Livre 3", date: "2025-11-08T11:30:00-03:00", time: "11:30" },
                    { event: "Qualificação", date: "2025-11-08T15:00:00-03:00", time: "15:00" },
                    { event: "Corrida", date: "2025-11-09T14:00:00-03:00", time: "14:00" }
                ]
            },
            {
                gp: "Las Vegas", circuit: "Las Vegas Strip Circuit", mapUrl: "https://www.racingcircuits.info/race-circuit/usa--las-vegas-strip-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-11-20T13:00:00-03:00", time: "13:00" },
                    { event: "Treino Livre 2", date: "2025-11-20T16:30:00-03:00", time: "16:30" },
                    { event: "Treino Livre 3", date: "2025-11-21T13:00:00-03:00", time: "13:00" },
                    { event: "Qualificação", date: "2025-11-21T17:00:00-03:00", time: "17:00" },
                    { event: "Corrida", date: "2025-11-22T15:00:00-03:00", time: "15:00" }
                ]
            },
            {
                gp: "Catar", circuit: "Lusail", mapUrl: "https://www.racingcircuits.info/race-circuit/qatar--lusail-international-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-11-28T06:00:00-03:00", time: "06:00" },
                    { event: "Sprint Qualificação", date: "2025-11-28T10:00:00-03:00", time: "10:00" },
                    { event: "Sprint", date: "2025-11-29T07:00:00-03:00", time: "07:00" },
                    { event: "Qualificação", date: "2025-11-29T11:00:00-03:00", time: "11:00" },
                    { event: "Corrida", date: "2025-11-30T10:00:00-03:00", time: "10:00" }
                ]
            },
            {
                gp: "Abu Dhabi", circuit: "Yas Marina", mapUrl: "https://www.racingcircuits.info/race-circuit/united-arab-emirates--yas-marina-circuit",
                sessions: [
                    { event: "Treino Livre 1", date: "2025-12-05T06:00:00-03:00", time: "06:00" },
                    { event: "Treino Livre 2", date: "2025-12-05T09:30:00-03:00", time: "09:30" },
                    { event: "Treino Livre 3", date: "2025-12-06T06:00:00-03:00", time: "06:00" },
                    { event: "Qualificação", date: "2025-12-06T10:00:00-03:00", time: "10:00" },
                    { event: "Corrida", date: "2025-12-07T10:00:00-03:00", time: "10:00" }
                ]
            }
        ];

        // Conjunto para rastrear GPs com notificações ativadas
        let enabledGPs = new Set();

        // Função para preencher a grade de pistas
        function populateTrackGrid() {
            const trackGrid = document.getElementById("trackGrid");
            f1Schedule.forEach(gp => {
                const raceSession = gp.sessions.find(s => s.event === "Corrida");
                const card = document.createElementavourite("div");
                card.className = "track-card bg-white p-4 rounded shadow cursor-pointer";
                card.dataset.gp = gp.gp;
                card.innerHTML = `
                    <img src="https://via.placeholder.com/150?text=${gp.circuit}" alt="Mapa ${gp.circuit}" class="w-full h-32 object-cover rounded">
                    <h3 class="text-lg font-bold text-center mt-2">GP ${gp.gp}</h3>
                    <p class="text-center text-sm">Corrida: ${new Date(raceSession.date).toLocaleDateString('pt-BR')} ${raceSession.time}</p>
                `;
                trackGrid.appendChild(card);
                card.addEventListener("click", () => showGPDetails(gp));
            });
        }

        // Função para mostrar detalhes do GP no modal
        function showGPDetails(gp) {
            const modal = document.getElementById("gpModal");
            const modalTitle = document.getElementById("modalTitle");
            const modalMapLink = document.getElementById("modalMapLink");
            const modalSchedule = document.getElementById("modalSchedule");
            const enableNotifications = document.getElementById("enableNotifications");

            modalTitle.textContent = `GP ${gp.gp} - ${gp.circuit}`;
            modalMapLink.href = gp.mapUrl;
            modalMapLink.textContent = `Ver mapa completo da pista ${gp.circuit}`;
            modalSchedule.innerHTML = "";
            gp.sessions.forEach(session => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td class="border border-gray-300 p-2">${session.event}</td>
                    <td class="border border-gray-300 p-2">${new Date(session.date).toLocaleDateString('pt-BR')}</td>
                    <td class="border border-gray-300 p-2">${session.time}</td>
                `;
                modalSchedule.appendChild(row);
            });

            enableNotifications.dataset.gp = gp.gp;
            enableNotifications.textContent = enabledGPs.has(gp.gp) ? "Notificações Ativadas" : "Ativar Notificações para este GP";
            modal.style.display = "block";
        }

        // Função para verificar e enviar notificações
        function checkForUpcomingEvents() {
            const now = new Date();
            f1Schedule.forEach(gp => {
                if (!enabledGPs.has(gp.gp)) return;
                gp.sessions.forEach(session => {
                    const eventDate = new Date(session.date);
                    const timeDiff = (eventDate - now) / 1000 / 60; // Diferença em minutos
                    if (timeDiff > 0 && timeDiff <= 30) { // Avisa 30 minutos antes
                        if (Notification.permission === "granted") {
                            new Notification(`F1 2025 - GP ${gp.gp}`, {
                                body: `${session.event} começa às ${session.time} em ${new Date(session.date).toLocaleDateString('pt-BR')} no circuito ${gp.circuit}!`,
                                icon: 'https://www.formula1.com/favicon.ico'
                            });
                        }
                    }
                });
            });
        }

        // Solicitar permissão para notificações
        document.getElementById("enableNotifications").addEventListener("click", (e) => {
            const gp = e.target.dataset.gp;
            Notification.requestPermission().then(permission => {
                if (permission === "granted") {
                    enabledGPs.add(gp);
                    e.target.textContent = "Notificações Ativadas";
                    alert(`Notificações ativadas para o GP ${gp}!`);
                } else {
                    alert("Permissão para notificações negada. Você não receberá alertas para este GP.");
                }
            });
        });

        // Fechar o modal
        document.querySelector(".close").addEventListener("click", () => {
            document.getElementById("gpModal").style.display = "none";
        });

        // Fechar o modal ao clicar fora
        window.addEventListener("click", (event) => {
            const modal = document.getElementById("gpModal");
            if (event.target === modal) {
                modal.style.display = "none";
            }
        });

        // Preencher a grade de pistas ao carregar
        populateTrackGrid();

        // Verificar eventos a cada minuto
        setInterval(checkForUpcomingEvents, 60000);

        // Verificar imediatamente ao carregar
        checkForUpcomingEvents();
    </script>
</body>
</html>